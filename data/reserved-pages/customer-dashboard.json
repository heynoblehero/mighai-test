{
  "html_code": "<!DOCTYPE html>\n<html lang=\"en\">\n<head>\n    <meta charset=\"UTF-8\">\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\n    <title>Customer Dashboard</title>\n    <style>\n        :root {\n            --primary-color: #0066cc;\n            --bg-color: #f0f8ff;\n            --text-color: #333;\n            --card-bg: #ffffff;\n        }\n        body {\n            background-color: var(--bg-color);\n            color: var(--text-color);\n            font-family: 'Arial', sans-serif;\n            margin: 0;\n            padding: 20px;\n        }\n        .dashboard-container {\n            max-width: 1200px;\n            margin: 0 auto;\n            display: grid;\n            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));\n            gap: 20px;\n        }\n        .dashboard-card {\n            background: var(--card-bg);\n            border: 1px solid #ddd;\n            border-radius: 8px;\n            padding: 20px;\n            box-shadow: 0 2px 10px rgba(0, 102, 204, 0.1);\n            transition: transform 0.2s ease;\n        }\n        .dashboard-card:hover {\n            transform: translateY(-2px);\n        }\n        .progress-bar {\n            width: 100%;\n            height: 20px;\n            background: #e6f0ff;\n            border-radius: 10px;\n            overflow: hidden;\n            margin: 10px 0;\n        }\n        .progress-fill {\n            height: 100%;\n            background: var(--primary-color);\n            transition: width 0.3s ease;\n        }\n        .button {\n            background: var(--primary-color);\n            color: white;\n            border: none;\n            padding: 12px 24px;\n            border-radius: 5px;\n            cursor: pointer;\n            margin: 5px;\n            font-weight: bold;\n            transition: background-color 0.2s ease;\n        }\n        .button:hover {\n            background-color: #0052a3;\n        }\n        h2 {\n            color: var(--primary-color);\n            margin-bottom: 15px;\n        }\n        #benefitsList {\n            list-style: none;\n            padding: 0;\n        }\n        #benefitsList li {\n            padding: 8px 0;\n            border-bottom: 1px solid #eee;\n            display: flex;\n            align-items: center;\n        }\n        #benefitsList li::before {\n            content: \"âœ“\";\n            color: var(--primary-color);\n            margin-right: 10px;\n        }\n        .loading {\n            opacity: 0.7;\n            pointer-events: none;\n        }\n        @media (max-width: 768px) {\n            .dashboard-container {\n                grid-template-columns: 1fr;\n            }\n            .button {\n                width: 100%;\n                margin: 5px 0;\n            }\n        }\n    </style>\n</head>\n<body>\n    <div class=\"dashboard-container\">\n        <div id=\"welcomeSection\" class=\"dashboard-card\">\n            <h2>Welcome Back, <span id=\"userName\">Loading...</span></h2>\n            <p id=\"userEmail\"></p>\n        </div>\n\n        <div id=\"planInfo\" class=\"dashboard-card\">\n            <h2>Subscription Plan</h2>\n            <div id=\"planDetails\"></div>\n        </div>\n\n        <div id=\"usageMetrics\" class=\"dashboard-card\">\n            <h2>Usage Metrics</h2>\n            <div>\n                <p>API Calls</p>\n                <div class=\"progress-bar\">\n                    <div id=\"apiProgress\" class=\"progress-fill\" role=\"progressbar\"></div>\n                </div>\n            </div>\n            <div>\n                <p>Page Views</p>\n                <div class=\"progress-bar\">\n                    <div id=\"pageViewProgress\" class=\"progress-fill\" role=\"progressbar\"></div>\n                </div>\n            </div>\n        </div>\n\n        <div id=\"quickActions\" class=\"dashboard-card\">\n            <h2>Quick Actions</h2>\n            <button class=\"button\" onclick=\"navigation('profile')\" aria-label=\"Go to Profile\">Profile</button>\n            <button class=\"button\" onclick=\"navigation('settings')\" aria-label=\"Go to Settings\">Settings</button>\n            <button class=\"button\" onclick=\"navigation('billing')\" aria-label=\"Go to Billing\">Billing</button>\n        </div>\n\n        <div id=\"recentActivity\" class=\"dashboard-card\">\n            <h2>Recent Activity</h2>\n            <div id=\"activityList\"></div>\n        </div>\n\n        <div id=\"subscriberBenefits\" class=\"dashboard-card\">\n            <h2>Your Benefits</h2>\n            <ul id=\"benefitsList\"></ul>\n        </div>\n    </div>\n\n    <script>\n        async function fetchUserInfo() {\n            try {\n                const response = await fetch('/api/subscribe/me');\n                if (!response.ok) throw new Error('Failed to fetch user info');\n                const data = await response.json();\n                document.getElementById('userName').textContent = data.name;\n                document.getElementById('userEmail').textContent = data.email;\n                document.getElementById('planDetails').innerHTML = `\n                    <p>Plan: ${data.plan}</p>\n                    <p>Status: ${data.status}</p>\n                    <p>Next billing: ${new Date(data.nextBilling).toLocaleDateString()}</p>\n                `;\n            } catch (error) {\n                console.error('Error fetching user info:', error);\n                document.getElementById('userName').textContent = 'Error loading user data';\n            }\n        }\n\n        async function fetchUsageStats() {\n            try {\n                const response = await fetch('/api/usage/stats');\n                if (!response.ok) throw new Error('Failed to fetch usage stats');\n                const data = await response.json();\n                \n                const apiPercentage = (data.apiUsage / data.apiLimit) * 100;\n                const pageViewPercentage = (data.pageViews / data.pageViewLimit) * 100;\n                \n                const apiProgress = document.getElementById('apiProgress');\n                const pageViewProgress = document.getElementById('pageViewProgress');\n                \n                apiProgress.style.width = `${apiPercentage}%`;\n                pageViewProgress.style.width = `${pageViewPercentage}%`;\n                \n                apiProgress.setAttribute('aria-valuenow', apiPercentage);\n                pageViewProgress.setAttribute('aria-valuenow', pageViewPercentage);\n            } catch (error) {\n                console.error('Error fetching usage stats:', error);\n            }\n        }\n\n        function navigation(page) {\n            try {\n                window.location.href = `/${page}`;\n            } catch (error) {\n                console.error('Navigation error:', error);\n            }\n        }\n\n        document.addEventListener('DOMContentLoaded', () => {\n            fetchUserInfo();\n            fetchUsageStats();\n            \n            const benefits = [\n                '24/7 Premium Support',\n                'Unlimited API Access',\n                'Custom Integration Solutions',\n                'Advanced Analytics Dashboard',\n                'Priority Queue Processing'\n            ];\n            \n            const benefitsList = document.getElementById('benefitsList');\n            benefits.forEach(benefit => {\n                const li = document.createElement('li');\n                li.textContent = benefit;\n                benefitsList.appendChild(li);\n            });\n\n            setInterval(() => {\n                fetchUsageStats();\n            }, 60000);\n        });\n    </script>\n</body>\n</html>",
  "chat_history": [],
  "title": "Customer Dashboard",
  "pageType": "customer-dashboard",
  "lastModified": "2025-08-15T01:55:56.577Z",
  "version": 6
}